{% extends "patient/card/card_base.html.twig" %}

{% block content %}
<div class="text ml-2">
    <div class="vascular-access-reminders">
        {% if vascular_reminders is defined and vascular_reminders is not empty %}
            {% for reminder in vascular_reminders %}
                <div class="alert {% if reminder.status == 'alert' %}alert-danger{% elseif reminder.status == 'pass' %}alert-success{% else %}alert-info{% endif %} vascular-reminder mb-2">
                    <strong>
                        {% if reminder.status == 'alert' %}⚠️{% elseif reminder.status == 'pass' %}✅{% else %}ℹ️{% endif %} 
                        {{ reminder.message }}
                    </strong>
                    {% if reminder.priority is defined %}
                        <div class="reminder-priority priority-{{ reminder.priority }}">
                            Priority: {{ reminder.priority|title }}
                        </div>
                    {% endif %}
                </div>
            {% endfor %}
        {% else %}
            <div class="alert alert-info">
                <strong>ℹ️ No vascular access reminders available</strong>
                <p class="mb-0">All safety checks are up to date.</p>
            </div>
        {% endif %}
        
        <div class="mt-3">
            <a href="{{ btnLink }}" class="btn btn-primary btn-sm" onclick="top.restoreSession()">
                {{ btnLabel|default('Mark Off Checklist') }}
            </a>
        </div>
    </div>
</div>

<style>
.vascular-access-reminders {
    font-size: 0.9em;
}

.vascular-reminder {
    margin-bottom: 8px;
    border-left: 4px solid;
    padding: 12px;
    border-radius: 4px;
}

.alert-danger {
    border-left-color: #dc3545;
    background-color: #f8d7da;
    color: #721c24;
}

.alert-success {
    border-left-color: #28a745;
    background-color: #d4edda;
    color: #155724;
}

.alert-info {
    border-left-color: #17a2b8;
    background-color: #d1ecf1;
    color: #0c5460;
}

.reminder-priority {
    font-size: 0.8em;
    font-style: italic;
    margin-top: 5px;
}

.priority-high {
    color: #dc3545;
    font-weight: bold;
}

.priority-medium {
    color: #ffc107;
    font-weight: bold;
}

.priority-low {
    color: #28a745;
}
</style>

{% endblock %}
